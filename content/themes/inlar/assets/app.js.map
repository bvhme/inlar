{"version":3,"sources":["10-plugins.js","11-map.js","20-app.js"],"names":["png_or_svg","Modernizr","svgasimg","$","attr","this","removeClass","replace","jQuery","window","load","length","mu","maputils","markers_fn","e","country_id","data","preventDefault","add_markers","mapconfig","ngos","enable_map","baselayer","L","tileLayer","template","nolabels","attribution","subdomains","maxZoom","map","center","scrollWheelZoom","layers","zoom","on","json","countries","each","key","url","getJSON","response","document","addClass","target","closest"],"mappings":"AAAA,YAUA,SAAAA,cACA,MAAAC,WAAAC,SAAA,OAAA,QAVA,SAAAC,GACAF,UAAAC,UAEAC,EAAA,eAAAC,KAAA,MAAA,WACA,MAAAD,GAAAE,MAAAC,YAAA,WAAAF,KAAA,OAAAG,QAAA,OAAA,WAGAC,QCPAA,OAAAC,QAAAC,KAAA,WACA,GAAAF,OAAA,QAAAG,OAAA,CAGA,GAAAC,GAAA,GAAAC,UACAC,EAAA,SAAAC,GACA,GAAAC,GAAAR,OAAAH,MAAAY,KAAA,UACAF,GAAAG,iBAEAN,EAAAO,YAAAC,UAAAC,KAAAL,GACAJ,EAAAU,aAGAV,GAAAW,UAAAC,EAAAC,UAAAL,UAAAM,SAAAC,UACAC,YAAAR,UAAAQ,YACAC,WAAA,OACAC,QAAA,KAGAlB,EAAAmB,IAAAP,EAAAO,IAAA,OACAC,OAAAZ,UAAAY,OACAC,iBAAA,EACAC,QAAAtB,EAAAW,WACAY,KAAA,IAGA3B,OAAA,eAAA,kBAAA4B,GAAA,QAAAtB,GACAN,OAAA,oBAAA4B,GAAA,QAAA,cAAAtB,MAGA,SAAAX,GACA,GAAAkC,IACAhB,KAAA,cACAiB,UAAA,mBAGAnC,GAAAoC,KAAAF,EAAA,SAAAG,EAAAC,GACAtC,EAAAuC,QAAAD,EAAA,SAAAE,GACAlC,OAAAW,UAAAoB,GAAAG,EAAA1B,UAKAT,QC3CA,SAAAL,GACAA,EAAAyC,UAAAR,GAAA,QAAA,sBAAA,SAAArB,GACAZ,EAAAE,MAAAwC,SAAA,UACAT,GAAA,QAAA,SAAArB,GACAZ,EAAAY,EAAA+B,QAAAC,QAAA,uBAAApC,QACAR,EAAA,uBAAAG,YAAA,WAGAE","file":"app.js","sourcesContent":["\"use strict\";\n(function($) {\n\tif (Modernizr.svgasimg) {\n\t\t// Replace png with svg\n\t\t$('img.png2svg').attr('src', function() {\n\t\t\treturn $(this).removeClass('png2svg').attr('src').replace('.png', '.svg');\n\t\t});\n\t}\n})(jQuery);\n\nfunction png_or_svg() {\n\treturn Modernizr.svgasimg ? '.svg' : '.png';\n}\n","\"use strict\";\njQuery(window).load(function() {\n\tif (!jQuery('#map').length)\n\t\treturn;\n\n\tvar mu = new maputils(),\n\tmarkers_fn = function(e) {\n\t\tvar country_id = jQuery(this).data('country');\n\t\te.preventDefault();\n\n\t\tmu.add_markers(mapconfig.ngos, country_id);\n\t\tmu.enable_map();\n\t};\n\n\tmu.baselayer = L.tileLayer(mapconfig.template.nolabels, {\n\t\tattribution: mapconfig.attribution,\n\t\tsubdomains: 'abcd',\n\t\tmaxZoom: 19\n\t});\n\n\tmu.map = L.map('map', {\n\t\tcenter: mapconfig.center,\n\t\tscrollWheelZoom: false,\n\t\tlayers: [mu.baselayer],\n\t\tzoom: 4,\n\t});\n\n\tjQuery('.countries a', '.map-container').on('click', markers_fn);\n\tjQuery('#country-control').on('click', '.dropdown a', markers_fn);\n});\n\n(function($) {\n\tvar json = {\n\t\t'ngos':      '/json/ngos/',\n\t\t'countries': '/json/countries/',\n\t};\n\n\t$.each(json, function(key, url) {\n\t\t$.getJSON(url, function(response) {\n\t\t\twindow.mapconfig[key] = response.data;\n\t\t})\n\t});\n\n\t\n})(jQuery);\n","\"use strict\";\n(function($) {\n\t$(document).on('click', '.dropdown-container', function(e) {\n\t\t$(this).addClass('open');\n\t}).on('click', function(e) { \n\t\tif (!$(e.target).closest('.dropdown-container').length) {\n\t\t\t$('.dropdown-container').removeClass('open');\n\t\t}\n\t});\n})(jQuery);\n"]}